(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[99],{62993:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return Y}});var n=s(77521),a=s.n(n),r=s(69077),i=s(59873),o=s(86501),c=s(37960),l=s(67294),d=s(40725),m=s.n(d),x=s(9008),f=s.n(x),p=s(25675),u=s.n(p),h=s(62964),j=s(21166),y=s(85893);function g(e){var t=e.address,s=e.name,n=e.image,r=e.site,i=e.onClick;return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{onClick:i,className:a().dynamic([["3577134216",[i?"pointer":"default",i?"translateY(-0.0625rem)":"none",i?.85:1,s?1:.4,s?.4:1]]])+" "+"profile ".concat(null!=r?r:""),children:[(0,y.jsx)("img",{src:n||"/av-default.svg",alt:"",width:46,height:46,className:a().dynamic([["3577134216",[i?"pointer":"default",i?"translateY(-0.0625rem)":"none",i?.85:1,s?1:.4,s?.4:1]]])}),(0,y.jsxs)("div",{className:a().dynamic([["3577134216",[i?"pointer":"default",i?"translateY(-0.0625rem)":"none",i?.85:1,s?1:.4,s?.4:1]]])+" right",children:[(0,y.jsx)("span",{className:a().dynamic([["3577134216",[i?"pointer":"default",i?"translateY(-0.0625rem)":"none",i?.85:1,s?1:.4,s?.4:1]]])+" name",children:s||"No name set"}),(0,y.jsx)("span",{className:a().dynamic([["3577134216",[i?"pointer":"default",i?"translateY(-0.0625rem)":"none",i?.85:1,s?1:.4,s?.4:1]]])+" address",children:"".concat(t.slice(0,6),"...").concat(t.slice(-5))})]})]}),(0,y.jsx)(a(),{id:"3577134216",dynamic:[i?"pointer":"default",i?"translateY(-0.0625rem)":"none",i?.85:1,s?1:.4,s?.4:1],children:[".profile.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;gap:0.5rem;background-color:#fff;border:2px solid #e2e8ed;box-shadow:var(--shadow);padding:0.5rem 1.125rem 0.5rem 0.5rem;word-spacing:-0.0625rem;border-radius:10rem;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;overflow:hidden;-webkit-transition:-webkit-transform 0.15s ease-in-out;-webkit-transition:transform 0.15s ease-in-out;transition:transform 0.15s ease-in-out;}",".profile.__jsx-style-dynamic-selector:hover{cursor:".concat(i?"pointer":"default",";-webkit-transform:").concat(i?"translateY(-0.0625rem)":"none",";-ms-transform:").concat(i?"translateY(-0.0625rem)":"none",";transform:").concat(i?"translateY(-0.0625rem)":"none",";}"),".profile.__jsx-style-dynamic-selector:hover img.__jsx-style-dynamic-selector{opacity:".concat(i?.85:1,";}"),".profile.__jsx-style-dynamic-selector img.__jsx-style-dynamic-selector{--size:3rem;border-radius:5rem;width:var(--size);height:var(--size);object-fit:cover;background-color:#dce5f1;-webkit-transition:opacity 0.1s ease-in-out;transition:opacity 0.1s ease-in-out;}",".profile.__jsx-style-dynamic-selector .right.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-weight:600;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}",".profile.__jsx-style-dynamic-selector .right.__jsx-style-dynamic-selector .name.__jsx-style-dynamic-selector{--opacity:".concat(s?1:.4,";color:rgba(0,0,0,var(--opacity));font-size:1.125rem;}"),".profile.__jsx-style-dynamic-selector .right.__jsx-style-dynamic-selector .address.__jsx-style-dynamic-selector{--opacity:".concat(s?.4:1,";font-size:0.9375rem;color:rgba(0,0,0,var(--opacity));}"),".profile.rainbow.__jsx-style-dynamic-selector{background:linear-gradient(0deg,#525258,#2b2d30);padding:0.375rem 0.75rem 0.375rem 0.5rem;border-radius:0.5rem;border:none;gap:0.5rem;}",".profile.rainbow.__jsx-style-dynamic-selector img.__jsx-style-dynamic-selector{width:2rem;height:2rem;}",".profile.rainbow.__jsx-style-dynamic-selector .right.__jsx-style-dynamic-selector .name.__jsx-style-dynamic-selector{color:#fff;font-size:1rem;}",".profile.rainbow.__jsx-style-dynamic-selector .right.__jsx-style-dynamic-selector .address.__jsx-style-dynamic-selector{display:none;}"]})]})}var w=s(76212),b=s(5017),v=s(9144),_=s(16184),k=s(23609),N=s(31099),E=s(50029),S=s(87794),F=s.n(S);function Y(){var e,t,s,n,i,d,x,p,u,j,g,b,N,S=(0,r.mA)().address,Y=(0,r.qL)().disconnect,z=(0,c.We)().openConnectModal,Z=(s=(t=(0,l.useState)([]))[0],n=t[1],d=(i=(0,l.useState)([]))[0],x=i[1],u=(p=(0,l.useState)(!1))[0],j=p[1],b=(g=(0,l.useState)(!1))[0],N=g[1],(0,l.useEffect)(function(){function t(){return(t=(0,E.Z)(F().mark(function t(){var a,r,i,o,c,l;return F().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:N(!0),t.prev=1,a="",r=[],i=[];case 5:if(!(null!==a)){t.next=21;break}return t.next=8,fetch("https://".concat((null==e?void 0:e.id)===1?"testnets-":"","api.opensea.io/api/v1/assets?owner=").concat(S,"&limit=50&cursor=").concat(a));case 8:return o=t.sent,t.next=11,o.json();case 11:c=t.sent,r=r.concat(c.assets.filter(function(e){return"ENS"!==e.asset_contract.name})),n(s.concat(r)),i=i.concat(c.assets.filter(function(e){return"ENS"===e.asset_contract.name})),x(d.concat(i)),a=""===(l=c.next)?null:l,N(!1),t.next=5;break;case 21:t.next=27;break;case 23:t.prev=23,t.t0=t.catch(1),j(!0),N(!1);case 27:case"end":return t.stop()}},t,null,[[1,23]])}))).apply(this,arguments)}S&&function(){t.apply(this,arguments)}()},[S]),{nfts:s,ensNames:d,isLoading:b,isError:u}),C=Z.nfts,O=Z.ensNames,I=Z.isLoading,L=Z.isError,T=(0,h.Z)(),P=T.width,B=T.height,M=(0,w.t)(),D=(0,l.useState)(!1),W=D[0],X=D[1],q=(0,l.useState)(!1),G=q[0],Q=q[1],V=(0,l.useState)(null),J=V[0],R=V[1];return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(f(),{children:[(0,y.jsx)("title",{className:"jsx-2237549070",children:"Set Your ENS Avatar"}),(0,y.jsx)("meta",{property:"og:title",content:"Set Your ENS Avatar",className:"jsx-2237549070"}),(0,y.jsx)("meta",{property:"twitter:creator",content:"@gregskril",className:"jsx-2237549070"}),(0,y.jsx)("meta",{property:"twitter:card",content:"summary_large_image",className:"jsx-2237549070"}),(0,y.jsx)("meta",{name:"description",content:"Easily set an NFT as your ENS Avatar",className:"jsx-2237549070"}),(0,y.jsx)("meta",{property:"og:description",content:"Easily set an NFT as your ENS Avatar",className:"jsx-2237549070"}),(0,y.jsx)("meta",{property:"og:image",content:"https://mintyourpfp.xyz/sharing-ens.jpg",className:"jsx-2237549070"})]}),(0,y.jsx)(o.x7,{}),G&&(0,y.jsx)(m(),{width:P,height:B,colors:["#44BCFO","#7298F8","#A099FF","#DE82FF","#7F6AFF"],style:{zIndex:"1000"}}),M&&(0,y.jsxs)(k.Z,{size:S?"lg":"sm",hero:(0,y.jsx)(_.Z,{title:"Set Your ENS Avatar"}),children:[!S&&(0,y.jsx)(v.Z,{onClick:z,children:"Connect Wallet"}),I&&(0,y.jsx)("p",{className:"jsx-2237549070",children:"Loading..."}),L&&(0,y.jsx)("p",{className:"jsx-2237549070",children:"Error..."}),S&&!I&&0===C.length&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("p",{style:{margin:"0"},className:"jsx-2237549070",children:"You don't have any NFTs in this wallet."}),(0,y.jsx)(v.Z,{onClick:function(){return Y()},style:{width:"fit-content"},children:"Disconnect"})]}),S&&!I&&C.length>0&&(0,y.jsx)(y.Fragment,{children:(0,y.jsx)("div",{className:"jsx-2237549070 nfts",children:C.map(function(e){return(0,y.jsx)("div",{onClick:function(){R(e),X(!0)},className:"jsx-2237549070 nft",children:(0,y.jsx)("img",{src:null==e?void 0:e.image_thumbnail_url,alt:null==e?void 0:e.name,className:"jsx-2237549070"})},e.permalink)})})}),W&&(0,y.jsx)(A,{nft:J,ensNames:O,setIsOpen:X,setIsAvatarSet:Q})]}),(0,y.jsx)(a(),{id:"2237549070",children:[".nfts.jsx-2237549070{width:100%;display:grid;padding:1rem;gap:1.5rem 1rem;border-radius:0.5rem;background-color:#fff;box-shadow:var(--shadow);grid-template-columns:repeat(auto-fill,minmax(9rem,2fr));}",".nft.jsx-2237549070{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:0.25rem;}",".nft.jsx-2237549070:hover{cursor:pointer;}",".nft.jsx-2237549070 img.jsx-2237549070{aspect-ratio:1;object-fit:cover;border-radius:0.25rem;box-shadow:var(--shadow);-webkit-transition:-webkit-transform 0.15s ease-in-out;-webkit-transition:transform 0.15s ease-in-out;transition:transform 0.15s ease-in-out;}",".nft.jsx-2237549070 img.jsx-2237549070:hover{-webkit-transform:scale(1.04);-ms-transform:scale(1.04);transform:scale(1.04);}",".nft.jsx-2237549070 span.jsx-2237549070{font-size:0.875rem;}"]})]})}function A(e){var t=e.nft,s=e.ensNames,n=e.setIsOpen,o=e.setIsAvatarSet,c=(0,b.wW)(),l=(0,r.LN)().chain,d=(0,r.mA)().address,m=(0,r.F6)({address:d}).data,x=(0,r.qv)({name:null!=m?m:void 0}).data,f=m&&(0,i.v)(m),p="eip155:1/".concat(t.asset_contract.schema_name.toLowerCase(),":").concat(t.asset_contract.address,"/").concat(t.token_id),h=(0,r.PJ)({address:null==x?void 0:x.address,abi:j.oU,functionName:"setText",args:[f,"avatar",p]}),w=h.config,_=h.isError,k=(0,r.GG)(w),E=k.data,S=k.write,F=(0,r.BX)({hash:null==E?void 0:E.hash,onSuccess:function(){o(!0),c("Set ENS Avatar",{props:{status:"success"}})},onError:function(){c("Set ENS Avatar",{props:{status:"error"}})}}),Y=F.data,A=F.isLoading,z=F.isError;return m&&d?(0,y.jsxs)(N.Z,{setIsOpen:n,canClose:!E,children:[(0,y.jsx)("h2",{className:"jsx-2394012425 text-center",children:"Preview Your Profile"}),(0,y.jsxs)("div",{className:"jsx-2394012425 content",children:[(0,y.jsxs)("div",{className:"jsx-2394012425 previews",children:[(0,y.jsx)("div",{className:"jsx-2394012425 nft-image",children:(0,y.jsx)(u(),{src:"".concat("https://mintyourpfp.xyz","/api/ens-avatar?name=").concat(m,"&src=").concat(t.image_thumbnail_url),alt:t.name,width:240,height:240})}),(0,y.jsxs)("div",{className:"jsx-2394012425 connections",children:[(0,y.jsx)(g,{name:m,address:d,image:null==t?void 0:t.image_thumbnail_url}),(0,y.jsx)(g,{site:"rainbow",name:m,address:d,image:t.image_thumbnail_url})]})]}),!E&&(0,y.jsx)(v.Z,{disabled:!S,onClick:function(){return null==S?void 0:S()},children:"Set Avatar"}),_&&(0,y.jsxs)("p",{style:{color:"#ED7B7B"},className:"jsx-2394012425 text-center",children:["Only the controller of ",m," can set the avatar"]}),A&&(0,y.jsx)(v.Z,{as:"a",href:(0,j.MQ)(E),loading:!0,children:"View on Etherscan"}),z&&(0,y.jsx)(v.Z,{as:"a",href:(0,j.MQ)(E),state:"error",children:"Transaction failed"}),Y&&(0,y.jsx)(v.Z,{as:"a",href:"https://".concat((null==l?void 0:l.id)===5?"alpha.ens.domains":"app.ens.domains/name","/").concat(m),state:"success",children:"View in ENS Manager"})]}),(0,y.jsx)(a(),{id:"2394012425",children:[".content.jsx-2394012425{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:1rem;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin:0 auto;}","img.jsx-2394012425{aspect-ratio:1;object-fit:cover;border-radius:0.5rem;}",".previews.jsx-2394012425{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column-reverse;-ms-flex-direction:column-reverse;flex-direction:column-reverse;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;gap:1rem;}","@media (min-width:32em){.previews.jsx-2394012425{display:grid;grid-template-columns:2fr 3fr;}}","@media (min-width:38em){.previews.jsx-2394012425{grid-template-columns:1fr 1fr;}}",".previews.jsx-2394012425 .nft-image.jsx-2394012425{line-height:1;border-radius:0.5rem;background:#dadfe9;overflow:hidden;box-shadow:var(--shadow);}",".previews.jsx-2394012425 .connections.jsx-2394012425{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;gap:0.75rem;}","@media (min-width:32em){.previews.jsx-2394012425 .connections.jsx-2394012425{gap:1rem;}}"]})]}):(0,y.jsx)(N.Z,{setIsOpen:n,children:(0,y.jsxs)("div",{style:{textAlign:"center"},children:[0===s.length&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("p",{children:"Your connected address doesn't own an ENS name"}),(0,y.jsx)(v.Z,{as:"a",href:"https://".concat((null==l?void 0:l.id)===5?"alpha":"app",".ens.domains/"),children:"Register a name"})]}),s.length>0&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("p",{children:"Your connected address doesn't have a primary ENS name"}),(0,y.jsx)(v.Z,{as:"a",href:"https://ezens.xyz/",children:"Set your primary name"})]})]})})}},57744:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/ens",function(){return s(62993)}])}},function(e){e.O(0,[764,452,963,760,774,888,179],function(){return e(e.s=57744)}),_N_E=e.O()}]);